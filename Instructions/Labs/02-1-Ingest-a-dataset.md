---
lab:
  title: 'ラボ 2.1: データセットの取り込み'
---

# モジュール 2: Dynamics 365 Customer Insights - Data へのデータの取り込み

## ラボ シナリオ: Contoso Coffee
Contoso Coffee では高品質のコーヒーとコーヒー メーカーを生産しており、これらは立地のいい Contoso の新しい小売店舗、ハイエンドの食品再販業者、Contoso Coffee の Web サイトなどのチャネルを通じて販売されています。 Contoso では、Contoso Cafes および新しい Connected Coffee Machine でオファリングを拡張し、それによって補充注文を創出し、発生した問題に関して Contoso サービス部門に警告が送られるようにすることを計画しています。 この新しいオファリングは、同社が顧客との直接的なリレーションシップを構築し、顧客が製品をどのように消費しているかを把握するのに役立ちます。

### Contoso Coffee の課題
- **トランザクション リレーションシップ:** Contoso の既存のビジネス モデルは、顧客との直接的な関係が不足していることを意味します。
- **データのサイロ化:** これにより、パーソナライズされたカスタマー エクスペリエンスを提供できません。

### Contoso の既存のデータ ランドスケープ
- **連携されていない顧客データ:** 複数のシステムを使用しているため、Contoso は同一ユーザーに対して複数のレコードを持っています。 これにより、取引しているチャンネルに関係なく、1 人のユーザーとして扱われると予想される顧客にとって、まとまりのないエクスペリエンスになります。
- **複数のプラットフォーム:** Contoso のアーキテクチャは、取得システムとレガシ システムによって進化しています。つまり、データは異なるシステムだけでなく、複数のクラウドとオンプレミスの異なるプラットフォームに存在する可能性があります。
- **顧客以外のデータ:** Contoso は、顧客以外のデータと、気象データなどのサード パーティからのデータなど、顧客エクスペリエンスに与える影響との相関関係を取り出しています。

### Contoso Coffee の Customer Insights プロジェクト
あなたは、Contoso Coffee 社で Dynamics 365 Customer Insights の実装を担当するプロジェクト マネージャーに任命されました。 経験豊富なプロジェクト マネージャーとして、次の計画を立案します。
1. Customer Insights 環境を構築する
2. 社内で最も優先度の高いデータ ソースから次のデータを取り込む。
   - 販売時点管理 (POS)
   - ロイヤルティ データ
   - 電子商取引の顧客
   - Web 購入
3. 取り込んだデータから統合顧客プロファイルを作成する

## モジュールの概要

### ラボの前提条件
この演習を開始する前に、ラボ 0 を完了して環境を設定しておく必要があります。

### データ インジェストとデータの統合
Contoso Retail のプロジェクト マネージャーとして、顧客データの主要なソースを取り込み、マップ、照合、マージの各プロセスに従って、統一された顧客プロファイルを作成します。 このラボでは、データを取り込みます。 次のラボでは、データを統合します。

**推定所要時間:** 45 分

### Customer Insights - Data について理解を深める
このタスクでは、事前に構成されたデモ環境を確認して、Customer Insights - Data アプリケーションの移動について深く理解します。
1. まだサインインしていない場合は、https://home.ci.ai.dynamics.com の Customer Insights - Data にサインインします。
2. 右上隅の [環境] セレクターで、**マーケティングの試用版**が選択されていることを確認します。
3. 左側のメニュー オプションを調べて、ナビゲーションについて理解を深めます。
   - **ホーム:** ホーム ページ
   - **顧客:** 統合された顧客プロファイルのカードを表示します (まだこれを表示することはできません。最初にデータを取り込んで統合する必要があります)
   - **データ > データ ソース:** サイロ化された人口統計学的データ、トランザクション データ、または行動データを取り込みます。 統合された顧客プロファイルにマップ、照合、統合を実行します。 エンティティを表示し、アクティビティの種類と顧客との関係を定義します。
   - **データ > エンリッチメント:** 統合されたプロファイルを超えて、Microsoft 独自のデータを使用して顧客プロファイルを強化します。 数百のブランドおよび多数の関心のカテゴリのアフィニティに関するデータを引き出します。 これらの アフィニティは、顧客に類似したプロファイルに対して展開されます。
   - **分析情報 > セグメント、メジャー、予測:** セグメントの表示、メジャーの構成、すぐに使用できる予測モデルの使用 (または独自のモデルの構築)。 (このセクションはまだ表示できません)。
   - **設定:** 顧客のセグメントのロール、アクセス許可、API、エクスポート先を管理します。

## 演習 1 - データ インジェスト
このラボでは、複数のソースからのデータの取り込みについて理解を深めます。 Contoso Retail のプロジェクト マネージャーであるあなたは、主要なデータ ソースには、電子商取引顧客、オンライン購入データ、店舗での販売時点管理の購入データ、Contoso Retail ロイヤルティ カード スキームからのデータがあることを既に特定しています。

### タスク 1 - 顧客データを電子商取引プラットフォームから取り込む
1. http://home.ci.ai.dynamics.com で Customer Insights にサインインし、右上隅のドロップダウン メニューで **Marketing の試用版**が選択されていることを確認します。
2. Customer Insights 内で、左側のナビゲーション メニューの**データ**を展開し、**データ ソース**を選択します。
3. **データ ソースの追加**を選択します。 データを取り込むための使用可能な方法を表示します。 このラボでは、[Microsoft Power Query] を選択し、ソースに *eコマース*という名前を付けてから、**[次へ]** を選択します。
4. Customer Insights が取り込むことのできる Power Query データ ソースのビューが表示されます。 使用可能なコネクタのタイプを確認します。 **テキスト/CSV** コネクタを選択します。
5. ファイルのパスまたは URL に https://aka.ms/CI-ILT/Contacts を入力し、**[次へ]** を選択します。 データのアップロードに少し時間がかかる場合があります。
6. ソースのデータが表形式で表示されています。 **[データの変換]** を選択して、取り込むデータのデータ型と形式を構成します。
7. データの最初の行に列見出しが表示されていることに注目してください。 これを修正するには、[ホーム] タブで **[変換]、[1 行目をヘッダーとして使用]** の順に選択するか、**[変換]** タブを選択してから、**[1 行目をヘッダーとして使用]** を選択します。
8. テキスト/CSV ソースからデータを取り込んだので、すべての列は、既定により "テキスト" データ型になります。 データを正常に取り込み、モデル化するために、テキスト以外の列のデータ型を設定できます。 データ型を変更するには、列見出し内の ABC アイコンを選択します。 次の列のデータ型を更新します。
   - **DateOfBirth**: 日付
   - **CreatedOn:** 日付
   - **Income:** 通貨
9. [クエリの設定] ペインの [名前] フィールドが、Contacts に設定されていることを確認します。 [**次へ**] を選択します。 **[保存]** を選択します。
   - お疲れさまでした。 これで、データ セットを使用して最初のデータ ソースが正しく作成されました。 次のタスクでは、次のデータ セットのインポートを続けます。

## タスク 2 - オンライン購入データを取り込む
このタスクでは、Contoso Coffee の Web サイトで行われた購入を表すオンライン購入データを取り込みます。

1. Customer Insights 内で、左側のメニューの**データ**を展開し、**データ ソース**を選択します。
2. *Managed by me (1)* で、**eコマース** のデータセットを選択し、**[編集]** を選択します。 [**次へ**] を選択します。
   - **注:** データがまだ更新されている場合は、完了するまで待ってから編集する必要があります。 タスク 3 からタスク 5 を完了した後、タスク 3 に直接スキップしてから、タスク 2 に戻ることができます。
3. タスク 1 で取り込んだ eCommerce Contacts データのビューが表示されます。 **[ホーム]** タブで、**[データを取得]** を選択します。
4. Customer Insights が取り込むことのできるデータ ソース コネクタのビューが表示されます。 **テキスト/CSV** コネクタを選択します。
5. ファイルのパスまたは URL に https://aka.ms/CI-ILT/OnlinePurchases を入力し、**[次へ]** を選択します。 **［作成］** を選択します
6. 前と同様に、**[変換]**、**[1 行目をヘッダーとして使用]** の順に選択します。
7. 次の列のデータ型を更新します。
   - **PurchasedOn:**: 日付
   - **TotalPrice**: 通貨
8. このクエリに *Purchases* という名前を付け、**[保存]** を選択します。

## タスク 3 - ロイヤルティ スキームから顧客データを取り込む
1. Customer Insights 内で、左側のメニューの**データ**を展開し、**データ ソース**を選択します。
2. **[+ データ ソースの追加]** を選択し、インポート方法として **[Microsoft Power Query]** を選択します。 ソースの名前を「*ロイヤルティ*」と設定し、**[次へ]** を選択します。
3. **テキスト/CSV** コネクタを選択します。
4. [ファイル パスまたは URL] に「https://aka.ms/CI-ILT/LoyaltySchemeCustomers」と入力し、**[次へ]** を選択し、**[データの変換]** を選択します。
5. 前と同様に、[変換]、[1 行目をヘッダーとして使用] の順に選択します。
6. 次の列のデータ型を更新します。
   - **DateOfBirth**: 日付
   - **RewardPoints:**: 整数
   - **CreatedOn:** 日付
7. [クエリ設定] ペインでこのクエリの名前を「*顧客*」に変更し、**[次へ]** を選択します。
8. 更新画面で、**[保存]** を選択します。

## タスク 4 - 販売時点管理の購入から顧客データを取り込む
1. Customer Insights 内で、左側のナビゲーション メニューの**データ**を展開し、**データ ソース**を選択します。
2. **[+ データ ソースの追加]** を選択し、**[Microsoft Power Query]** を選択して、ソースの名前を「*POS*」と設定し、**[次へ]** を選択します。
3. **テキスト/CSV** コネクタを選択します。
4. [ファイル パスまたは URL] に「https://aka.ms/CI-ILT/POSPurchases」と入力します。 [**[次へ]** を選択し、**[データの変換]** を選択します。
5. 前と同様に、**[変換]**、**[1 行目をヘッダーとして使用]** の順に選択します。
6. 次の列のデータ型を更新します。
   - **PurchasedOn:**: 日付
   - **TotalPrice**: 通貨
   - **RewardPointsAdded:** 整数
7. [クエリ設定] ペインの **"名前"** フィールドで、クエリの名前を「*購入*」に変更します。 [**次へ**] を選択します。
8. データ更新画面で、**[保存]** を選択します。

## タスク5 - Web サイトのレビューから顧客データを取り込む
1. Customer Insights 内で、左側のナビゲーション メニューの**データ**を展開し、**データ ソース**を選択します。
2. **[+ データ ソースの追加]** を選択します。 **[Microsoft Power Query]** を選択し、ソースの名前を「*Web サイト*」と設定し、**[次へ]** を選択します。
3. **テキスト/CSV** コネクタを選択します。
4. [ファイル パスまたは URL] に「https://aka.ms/CI-ILT/WebReviews」と入力します。 [**[次へ]** を選択し、**[データの変換]** を選択します。
5. 前と同様に、**[変換]**、**[1 行目をヘッダーとして使用]** の順に選択します。
6. 次の列のデータ型を更新します。
   - **ReviewRating:** 整数
   - **ReviewDate**: 日付
7. [クエリ設定] ペインの **"名前"** フィールドで、クエリの名前を「*レビュー*」に変更します。 [**次へ**] を選択します。
8. [設定の更新] 画面で、**[保存]** を選択します。
